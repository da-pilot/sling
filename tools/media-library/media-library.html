<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Media Library</title>
  <!-- Adobe Fonts (matching DA Live) -->
  <link rel="stylesheet" href="https://use.typekit.net/hah7vzn.css">
  <link rel="stylesheet" href="media-library.css">
  <link rel="stylesheet" href="folder-modal.css">
  <link rel="stylesheet" href="modules/media-info-modal.css">
  <style>
    /* Prevent loading flash */
    body { opacity: 0; transition: opacity 0.3s ease; }
    body.loaded { opacity: 1; }
  </style>
</head>
<body>
  <div class="media-library">
    <!-- Left Sidebar Navigation -->
    <aside class="sidebar" role="navigation" aria-label="Media navigation">
      <div class="sidebar-header">
        <h2>Media</h2>
      </div>
      <div class="sidebar-section">
        <div class="section-header">Media & Types</div>
        <div class="folder-tree" id="folderTree" role="list">
          <div class="folder-item active" data-filter="all" role="listitem" tabindex="0" aria-selected="true">
            <img src="/tools/media-library/icons/Smock_Asset_18_N.svg" class="folder-icon" alt="All Media">
            <span class="folder-name">All Media</span>
            <span class="media-count" id="totalCount" aria-label="Total media count">0</span>
          </div>
          <div class="folder-item" data-filter="internal" role="listitem" tabindex="0">
            <img src="/tools/media-library/icons/Smock_FileHTML_18_N.svg" class="folder-icon" alt="Internal">
            <span class="folder-name">Internal</span>
            <span class="media-count" id="internalCount" aria-label="Internal media count">0</span>
          </div>
          <div class="folder-item" data-filter="external" role="listitem" tabindex="0">
            <img src="/tools/media-library/icons/Smock_LinkGlobe_18_N.svg" class="folder-icon" alt="External">
            <span class="folder-name">External</span>
            <span class="media-count" id="externalCount" aria-label="External media count">0</span>
          </div>
          <div class="folder-item" data-filter="image" role="listitem" tabindex="0">
            <img src="/tools/media-library/icons/Smock_Image_18_N.svg" class="folder-icon" alt="Images">
            <span class="folder-name">Images</span>
            <span class="media-count" id="imageCount" aria-label="Image count">0</span>
          </div>
          <div class="folder-item" data-filter="video" role="listitem" tabindex="0">
            <img src="/tools/media-library/icons/Smock_VideoFilled_18_N.svg" class="folder-icon" alt="Videos">
            <span class="folder-name">Videos</span>
            <span class="media-count" id="videoCount" aria-label="Video count">0</span>
          </div>
          <div class="folder-item" data-filter="document" role="listitem" tabindex="0">
            <img src="/tools/media-library/icons/Smock_Document_18_N.svg" class="folder-icon" alt="Documents">
            <span class="folder-name">Documents</span>
            <span class="media-count" id="documentCount" aria-label="Document count">0</span>
          </div>
          <div class="folder-item" data-filter="missing-alt" role="listitem" tabindex="0">
            <img src="/tools/media-library/icons/Smock_Alert_18_N.svg" class="folder-icon" alt="Missing Alt Text">
            <span class="folder-name">Missing Alt Text</span>
            <span class="media-count" id="missingAltCount" aria-label="Media missing alt text">0</span>
          </div>
          <div class="media-percentage" id="missingAltPercentage"></div>
        </div>
      </div>
      <div class="sidebar-section">
        <div class="section-header">Used on This Page</div>
        <div class="folder-tree" role="list">
          <div class="folder-item" data-filter="used-on-page" role="listitem" tabindex="0">
            <img src="/tools/media-library/icons/Smock_Asset_18_N.svg" class="folder-icon" alt="All Used">
            <span class="folder-name">All Used</span>
            <span class="media-count" id="usedOnPageCount" aria-label="Media used on current page">0</span>
          </div>
          <div class="folder-item" data-filter="used-internal" role="listitem" tabindex="0">
            <img src="/tools/media-library/icons/Smock_FileHTML_18_N.svg" class="folder-icon" alt="Internal Used">
            <span class="folder-name">Internal Used</span>
            <span class="media-count" id="usedInternalCount" aria-label="Internal media used on current page">0</span>
          </div>
          <div class="folder-item" data-filter="used-external" role="listitem" tabindex="0">
            <img src="/tools/media-library/icons/Smock_LinkGlobe_18_N.svg" class="folder-icon" alt="External Used">
            <span class="folder-name">External Used</span>
            <span class="media-count" id="usedExternalCount" aria-label="External media used on current page">0</span>
          </div>
          <div class="folder-item" data-filter="used-image" role="listitem" tabindex="0">
            <img src="/tools/media-library/icons/Smock_Image_18_N.svg" class="folder-icon" alt="Images Used">
            <span class="folder-name">Images Used</span>
            <span class="media-count" id="usedImageCount" aria-label="Images used on current page">0</span>
          </div>
          <div class="folder-item" data-filter="used-video" role="listitem" tabindex="0">
            <img src="/tools/media-library/icons/Smock_VideoFilled_18_N.svg" class="folder-icon" alt="Videos Used">
            <span class="folder-name">Videos Used</span>
            <span class="media-count" id="usedVideoCount" aria-label="Videos used on current page">0</span>
          </div>
          <div class="folder-item" data-filter="used-missing-alt" role="listitem" tabindex="0">
            <img src="/tools/media-library/icons/Smock_Alert_18_N.svg" class="folder-icon" alt="Missing Alt on Page">
            <span class="folder-name">Missing Alt on Page</span>
            <span class="media-count" id="usedMissingAltCount" aria-label="Images used on this page missing alt text">0</span>
          </div>
          <div class="media-percentage" id="usedMissingAltPercentage"></div>
        </div>
      </div>
      <div class="sidebar-section accordion-section">
        <div class="section-header accordion-header" data-accordion="usage">
          <span>Usage Filters</span>
          <img src="/tools/media-library/icons/chevron-down.svg" class="accordion-icon" alt="Expand">
        </div>
        <div class="accordion-content collapsed" id="usageAccordion">
          <div class="usage-filters">
            <div class="usage-filter-group">
              <label class="usage-slider-label">Minimum Pages</label>
              <div class="usage-slider-container">
                <input type="range" id="minPagesSlider" min="1" max="10" value="1" class="usage-slider">
                <span class="usage-slider-value" id="minPagesValue">1</span>
              </div>
            </div>
            <div class="usage-filter-group">
              <label class="usage-slider-label">Minimum Occurrences</label>
              <div class="usage-slider-container">
                <input type="range" id="minOccurrencesSlider" min="1" max="100" value="1" class="usage-slider">
                <span class="usage-slider-value" id="minOccurrencesValue">1</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="sidebar-section accordion-section">
        <div class="section-header accordion-header" data-accordion="topMedia">
          <span>Top Media</span>
          <img src="/tools/media-library/icons/chevron-down.svg" class="accordion-icon" alt="Expand">
        </div>
        <div class="accordion-content collapsed" id="topMediaAccordion">
          <div class="top-media-list" id="topMediaList"></div>
        </div>
      </div>
    </aside>
    <!-- Main Content Area -->
    <main class="main-content" role="main">
      <!-- Top Bar -->
      <div class="top-bar">
        <div class="search-container">
          <img src="/tools/media-library/icons/Smock_ImageSearch_18_N.svg" class="search-icon" alt="Search">
          <input type="text" class="search-input" placeholder="Search media..." id="searchInput" aria-label="Search media" autocomplete="off">
          <div class="search-suggestions" id="searchSuggestions" role="listbox" aria-hidden="true"></div>
          <div class="quick-search-labels" id="quickSearchLabels" role="list" aria-label="Quick search options"></div>
        </div>

        <div class="top-controls">
          <!-- Scan progress removed - no longer needed -->
          <div class="scan-indicator" id="scanIndicator" aria-label="Scan progress" title="Scanning media" style="display: none;">
            <img src="/tools/media-library/icons/Smock_Refresh_18_N.svg" class="sync-spinner" alt="Scanning">
          </div>
          <button id="folderBrowserBtn" class="folder-browser-btn" title="Folder Browser" aria-pressed="false">
            <img src="/tools/media-library/icons/Smock_Folder_18_N.svg" alt="Folder" width="16" height="16">
          </button>
          <button class="view-btn active" id="gridViewBtn" data-view="grid" title="Grid View" aria-pressed="true">⊞</button>
          <button class="view-btn" id="listViewBtn" data-view="list" title="List View" aria-pressed="false">☰</button>
        </div>
      </div>
      <!-- Breadcrumb -->
      <nav class="breadcrumb" aria-label="Current location">
        <span class="breadcrumb-item">All Media</span>
      </nav>
      <!-- Media Grid -->
      <div class="media-container" id="mediaContainer">
        <div class="media-grid" id="mediaGrid" role="grid" aria-label="Media grid">
          <div class="loading" id="mediaLoadingMessage" role="status" aria-live="polite">
            <div class="loading-content">
              <div class="loading-spinner"></div>
              <div class="loading-text">
                <h3>Initializing Media Library...</h3>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Media Preview Modal -->
  <div class="modal-overlay" id="previewModal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="previewTitle">Media Preview</h3>
        <button class="modal-close" id="previewClose">&times;</button>
      </div>
      <div class="modal-body" id="previewBody"></div>
      <div class="modal-footer">
        <button class="btn btn-primary" id="previewInsert">Insert Media</button>
      </div>
    </div>
  </div>

  <!-- Toast Notifications -->
  <div class="toast-container" id="toastContainer"></div>

  <script type="module" src="media-library.js"></script>
</body>
</html> 
</html> 